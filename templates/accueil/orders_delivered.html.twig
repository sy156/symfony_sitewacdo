{% extends 'base.html.twig' %}

{% block title %}
	{{ title }}
{% endblock %}

{% block body %}
	<div class="container mt-5">
		<div class="mb-3">
			<a href="{{ path('accueil_dashboard') }}" class="btn btn-secondary">
				<i class="bi bi-arrow-left-circle"></i>
				Retour au tableau de bord
			</a>
		</div>

		<h2>{{ title }}</h2>

		{% if orders is empty %}
			<div class="alert alert-info">Aucune commande remise pour le moment.</div>
		{% else %}
			<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 mt-2">
				{% for order in orders %}
					<div class="col">
						<div class="card h-100">
							<div class="card-header d-flex justify-content-between align-items-center">
								Commande #{{ order.id }}
								<span class="badge bg-success">Remise</span>
							</div>
							<div class="card-body">
								<p>
									<strong>Total :</strong>
									{{ order.total }}€</p>
								<p>
									<strong>Créée le :</strong>
									{{ order.createdAt|date('d/m/Y H:i') }}</p>
								<p>
									<strong>Articles :</strong>
								</p>
								<ul class="list-group list-group-flush">
									{% for item in order.items %}
										<li class="list-group-item d-flex justify-content-between">
											{{ item.product.name }}
											x
											{{ item.quantity }}
											<span>{{ item.unitPrice }}€</span>
										</li>
									{% endfor %}
								</ul>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		{% endif %}
	</div>
{% endblock %}
